{
    "name": "rizzo-lsp",
    "displayName": "Rizzo Language Support",
    "description": "Language Server Protocol client for .rizz files",
    "version": "0.0.5",
    "publisher": "local",
    "license": "MIT",
    "repository": {
        "type": "git",
        "url": "https://github.com/itu-msc/RizzoMemory.git",
        "directory": "vscode-rizzo-lsp"
    },
    "engines": {
        "vscode": "^1.90.0"
    },
    "categories": [
        "Programming Languages"
    ],
    "main": "./out/extension.js",
    "contributes": {
        "commands": [
            {
                "command": "rizzoLsp.checkHealth",
                "title": "Rizzo: Check LSP Health",
                "category": "Rizzo"
            },
            {
                "command": "rizzoLsp.restartServer",
                "title": "Rizzo: Restart LSP Server",
                "category": "Rizzo"
            },
            {
                "command": "rizzoLsp.runFile",
                "title": "Rizzo: Run Current File",
                "category": "Rizzo",
                "icon": "$(play)"
            }
        ],
        "menus": {
            "editor/title/run": [
                {
                    "command": "rizzoLsp.runFile",
                    "when": "resourceLangId == rizzo",
                    "group": "navigation"
                }
            ]
        },
        "languages": [
            {
                "id": "rizzo",
                "aliases": [
                    "Rizzo",
                    "rizzo",
                    "rizz"
                ],
                "extensions": [
                    ".rizz"
                ],
                "configuration": "./language-configuration.json"
            }
        ],
        "grammars": [
            {
                "language": "rizzo",
                "scopeName": "source.rizzo",
                "path": "./syntaxes/rizzo.tmLanguage.json"
            },
            {
                "scopeName": "markdown.rizzo.codeblock",
                "path": "./syntaxes/rizzo-markdown-codeblock.tmLanguage.json",
                "injectTo": [
                    "text.html.markdown"
                ],
                "embeddedLanguages": {
                    "meta.embedded.block.rizzo": "rizzo"
                }
            }
        ],
        "configuration": {
            "title": "Rizzo LSP",
            "properties": {
                "rizzoLsp.server.workspaceFolder": {
                    "type": "array",
                    "default": [],
                    "items": {
                        "type": "string"
                    },
                    "description": "Useful for development of Rizzo or the LSP. Sets the workspace folder to launch the Rizzo language server in. If empty, the server will be launched in the current workspace root."
                },
                "rizzoLsp.server.command": {
                    "type": "string",
                    "default": "opam",
                    "description": "Command used to launch the Rizzo language server"
                },
                "rizzoLsp.server.args": {
                    "type": "array",
                    "default": [
                        "exec",
                        "--",
                        "dune",
                        "exec",
                        "rizzolsp"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "description": "Arguments used to launch the Rizzo language server"
                },
                "rizzoLsp.compiler.command": {
                    "type": "string",
                    "default": "",
                    "description": "Path to the rizzoc compiler binary. Leave empty to auto-detect from local build or opam."
                },
                "rizzoLsp.compiler.cc": {
                    "type": "string",
                    "default": "gcc",
                    "description": "C compiler command used to compile generated C output (e.g. gcc or clang)."
                }
            }
        }
    },
    "scripts": {
        "compile": "npm run bundle",
        "bundle": "esbuild ./src/extension.ts --bundle --platform=node --format=cjs --target=node22 --external:vscode --outfile=./out/extension.js",
        "typecheck": "tsc -p ./ --noEmit",
        "watch": "tsc -watch -p ./",
        "copy:runtime": "node scripts/copy-runtime.js",
        "vscode:prepublish": "npm run copy:runtime && npm run typecheck && npm run bundle",
        "package:vsix": "vsce package --out ./out",
        "install:local": "npm run package:vsix && code --install-extension ./out/rizzo-lsp-0.0.5.vsix --force"
    },
    "devDependencies": {
        "@vscode/vsce": "^3.7.1",
        "@types/node": "^22.19.11",
        "@types/vscode": "^1.90.0",
        "esbuild": "^0.27.3",
        "typescript": "^5.9.3"
    },
    "dependencies": {
        "vscode-languageclient": "^9.0.1"
    }
}